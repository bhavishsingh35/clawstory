{% extends "base.html" %}

{% block title %}Home | ClawStory{% endblock %}

{% block content %}

<!-- ================= HERO ================= -->
<section class="bg-gradient-to-r from-gray-900 to-gray-800 text-white rounded-2xl p-8 md:p-12 mb-12">
  <h1 class="text-3xl md:text-5xl font-extrabold mb-4">
    Elevate Your Style
  </h1>
  <p class="text-gray-300 max-w-xl text-lg">
    Premium collections curated for modern fashion.
  </p>
  <a href="{% url 'pages:shop' %}"
     class="inline-block mt-6 bg-blue-600 hover:bg-blue-700 px-8 py-3 rounded-xl font-semibold transition">
    Shop Now
  </a>
</section>

<!-- ================= COLLECTIONS ================= -->
{% if collections %}
<section class="mb-14">
  <h2 class="text-xl font-bold mb-4">Shop by Collection</h2>
  <div class="flex gap-3 overflow-x-auto pb-2">
    {% for collection in collections %}
    <a href="{% url 'pages:collection_detail' collection.slug %}"
       class="min-w-[180px] bg-white border rounded-xl p-4 text-center hover:shadow-md transition">
      <h3 class="font-semibold">{{ collection.name }}</h3>
    </a>
    {% endfor %}
  </div>
</section>
{% endif %}

<!-- ================= SEARCH INFO ================= -->
{% if query %}
<p class="mb-4 text-sm text-gray-600">
  Showing results for "<strong>{{ query }}</strong>"
</p>
{% endif %}

<!-- ================= PRODUCTS ================= -->
<section>
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-bold">Latest Products</h2>
    <a href="{% url 'pages:shop' %}" class="text-sm text-blue-600 hover:underline">
      View all
    </a>
  </div>

  {% if products %}
<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-5">
  {% for product in products %}

  <div class="bg-white rounded-xl shadow-sm hover:shadow-xl transition flex flex-col">

    <!-- IMAGE -->
    <a href="{% url 'pages:product_detail' product.slug %}">
      <div class="relative w-full aspect-[1/1] bg-gray-100 overflow-hidden">
  <img
    src="{{ product.image.url }}"
    alt="{{ product.name }}"
    loading="lazy"
    class="absolute inset-0 w-full h-full object-cover"
  />
</div>
    </a>

    <!-- DETAILS -->
    <div class="p-4 flex flex-col gap-1">
      <h3 class="text-sm font-medium truncate">{{ product.name }}</h3>
      <p class="text-lg font-bold text-gray-900">â‚¹{{ product.price }}</p>

      {% if product.stock > 0 %}
        <span class="text-xs text-green-600">In stock</span>
      {% else %}
        <span class="text-xs text-red-500">Out of stock</span>
      {% endif %}

      <a
        href="{% url 'pages:product_detail' product.slug %}"
        class="mt-3 inline-block text-center bg-gray-900 text-white py-2 rounded-lg text-sm hover:bg-black transition"
      >
        View Product
      </a>
    </div>

  </div>

  {% endfor %}
</div>
{% else %}
<p class="text-gray-500 mt-6">No products available.</p>
{% endif %}
</section>

<!-- ================= SEO TEXT ================= -->
<section class="mt-16 text-sm text-gray-500">
  <p>
    ClawStory is your destination for premium fashion collections, modern designs,
    and quality apparel curated for everyday wear.
  </p>
</section>

{% endblock %}