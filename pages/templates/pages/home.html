{% extends "base.html" %}

{% block title %}Home | ClawStory{% endblock %}
{% block meta_description %}
Shop premium fashion collections at ClawStory. Discover trending styles, best prices, and fast delivery across India.
{% endblock %}

{% block content %}

<!-- ================= HERO ================= -->
<section class="bg-gradient-to-r from-gray-900 to-gray-800 text-white rounded-2xl p-8 md:p-14 mb-14">
  <div class="max-w-3xl">
    <h1 class="text-3xl md:text-5xl font-extrabold mb-4 leading-tight">
      Elevate Your Style
    </h1>
    <p class="text-gray-300 text-lg mb-6">
      Premium collections curated for modern fashion, comfort, and confidence.
    </p>
    <a href="{% url 'pages:shop' %}"
       class="inline-block bg-blue-600 hover:bg-blue-700 px-8 py-3 rounded-xl font-semibold transition">
      Shop Now
    </a>
  </div>
</section>

<!-- ================= TRUST BAR ================= -->
<section class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-16 text-center text-sm">
  <div class="bg-white rounded-xl p-4 shadow-sm">üöö Fast Delivery</div>
  <div class="bg-white rounded-xl p-4 shadow-sm">üîí Secure Payments</div>
  <div class="bg-white rounded-xl p-4 shadow-sm">‚Ü© Easy Returns</div>
  <div class="bg-white rounded-xl p-4 shadow-sm">‚≠ê Premium Quality</div>
</section>

<!-- ================= COLLECTIONS ================= -->
{% if collections %}
<section class="mb-16">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-bold">Shop by Collection</h2>
    <a href="{% url 'pages:collection_list' %}" class="text-sm text-blue-600 hover:underline">
      View all
    </a>
  </div>

  <div class="flex gap-4 overflow-x-auto pb-3 scrollbar-hide">
    {% for collection in collections %}
    <a href="{% url 'pages:collection_detail' collection.slug %}"
       class="min-w-[200px] bg-white border rounded-xl p-5 text-center hover:shadow-md transition">
      <h3 class="font-semibold">{{ collection.name }}</h3>
    </a>
    {% endfor %}
  </div>
</section>
{% endif %}

<!-- ================= SEARCH INFO ================= -->
{% if query %}
<p class="mb-6 text-sm text-gray-600">
  Showing results for "<strong>{{ query }}</strong>"
</p>
{% endif %}

<!-- ================= PRODUCTS ================= -->
<section>
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-xl font-bold">Latest Products</h2>
    <a href="{% url 'pages:shop' %}" class="text-sm text-blue-600 hover:underline">
      View all
    </a>
  </div>

  {% if products %}
  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">

    {% for product in products %}
    <div class="bg-white rounded-xl shadow-sm hover:shadow-xl transition flex flex-col">

      <!-- IMAGE -->
      <a href="{% url 'pages:product_detail' product.slug %}">
        <div class="relative aspect-square bg-gray-100 overflow-hidden rounded-t-xl">
          <img
            src="{{ product.image.url }}"
            alt="{{ product.name }}"
            loading="lazy"
            class="absolute inset-0 w-full h-full object-cover"
          />
        </div>
      </a>

      <!-- DETAILS -->
      <div class="p-4 flex flex-col gap-1 flex-1">
        <h3 class="text-sm font-medium truncate">{{ product.name }}</h3>

        <p class="text-lg font-bold text-gray-900">‚Çπ{{ product.price }}</p>

        {% if product.stock > 0 %}
          <span class="text-xs text-green-600">In stock</span>
        {% else %}
          <span class="text-xs text-red-500">Out of stock</span>
        {% endif %}

        <a
          href="{% url 'pages:product_detail' product.slug %}"
          class="mt-auto inline-block text-center bg-gray-900 text-white py-2 rounded-lg text-sm hover:bg-black transition"
        >
          View Product
        </a>
      </div>

    </div>
    {% endfor %}

  </div>
  {% else %}
    <p class="text-gray-500 mt-8">No products available right now.</p>
  {% endif %}
</section>

<!-- ================= SEO CONTENT ================= -->
<section class="mt-20 text-sm text-gray-500 max-w-4xl">
  <p>
    ClawStory is a premium fashion and lifestyle shopping destination in India.
    Discover curated collections, modern designs, and high-quality apparel with
    fast delivery and secure payments.
  </p>
</section>

{% endblock %}