{% extends "base.html" %}
{% block content %}

<h1 class="text-2xl font-bold mb-6">Shop</h1>

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">

  {% for product in products %}
<div class="border rounded-lg p-4 shadow-sm hover:shadow-lg transition flex flex-col">

    <!-- CLICKABLE IMAGE + NAME -->
    <a href="{% url 'pages:product_detail' product.slug %}">
        {% if product.image %}
            <img 
                src="{{ product.image.url }}"
                alt="{{ product.name }}"
                class="w-full h-64 object-cover bg-gray-100 rounded mb-4"
            >
        {% else %}
            <div class="w-full h-64 bg-gray-200 flex items-center justify-center rounded mb-4">
                <span class="text-gray-500">No Image</span>
            </div>
        {% endif %}

        <h2 class="text-lg font-semibold mb-2">
            {{ product.name }}
        </h2>
    </a>

    <p class="text-gray-700 mb-4">
        â‚¹{{ product.price }}
    </p>

    <!-- Push button to bottom -->
    <div class="mt-auto">
        <a href="{% url 'cart:cart_add' product.id %}"
           class="inline-block w-full text-center bg-black text-white py-2 rounded hover:bg-gray-800 transition">
            Add to Cart
        </a>
    </div>

</div>
    {% empty %}
        <p>No products found.</p>
    {% endfor %}

</div>

{% endblock %}